:root{
  --bg:#000000;
  --neon:#e7e7e7;
  --purple:#a7a7a7;
  --cyan:#ffffff;
  --soft:#e7e7e7;
  --bg-gradient-start:#000000;
  --bg-gradient-end:#0a0a0a;
  --card-bg-start:rgba(0,0,0,0.3);
  --card-bg-end:rgba(0,0,0,0.2);
  --card-border:rgba(255,255,255,0.2);
  --card-shadow:rgba(0,0,0,0.8);
  --input-border:rgba(255,255,255,0.2);
  --wfg-bg:rgba(0,0,0,0.15);
  --border-line:rgb(22, 22, 22);
  --btn-bg:#ffffff;
  --btn-text:#000000;
  --btn-hover-bg:#e7e7e7;
  --bg-image:url('/static/background.jpg');
  --refresh-icon:url('/static/refresh-dark.png');
}
[data-theme="light"]{
  --bg:#f5f5f5;
  --neon:#1a1a1a;
  --purple:#666666;
  --cyan:#333333;
  --soft:#1a1a1a;
  --bg-gradient-start:#ffffff;
  --bg-gradient-end:#f5f5f5;
  --card-bg-start:rgba(255,255,255,0.25);
  --card-bg-end:rgba(255,255,255,0.2);
  --card-border:rgba(0,0,0,0.1);
  --card-shadow:rgba(0,0,0,0.1);
  --input-border:rgba(0,0,0,0.15);
  --wfg-bg:rgba(255,255,255,0.15);
  --border-line:rgb(222, 222, 222);
  --btn-bg:#000000;
  --btn-text:#ffffff;
  --btn-hover-bg:#1a1a1a;
  --bg-image:url('/static/background-light.jpg');
  --refresh-icon:url('/static/refresh.png');
}
*{box-sizing:border-box;font-family:system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif; color:var(--soft)}
body{margin:0;background-color:var(--bg);background-image:var(--bg-image);background-size:cover;background-position:center;background-attachment:fixed;background-repeat:no-repeat;height:100vh;overflow:hidden;transition:background 0.3s ease;}
@keyframes fadeInDown{from{opacity:0;transform:translateY(-20px);}to{opacity:1;transform:translateY(0);}}
.navbar{position:fixed;top:0;left:0;right:0;height:60px;background:transparent;border:none;display:flex;align-items:center;justify-content:space-between;padding:0.75rem 5rem;z-index:1000;transition:all 0.3s ease;}
.navbar-brand{display:flex;align-items:center;gap:12px;}
.navbar-logo{font-size:24px;}
.navbar-title{font-size:1.5rem;font-weight:300;letter-spacing:0.5px;margin-left:-45px;animation:fadeInDown 0.8s ease-out;}
.navbar-menu{display:flex;gap:3rem;}
.navbar-link{color:var(--soft);text-decoration:none;font-size:1rem;font-weight:400;padding:0 0 5px 0;border-radius:0;transition:all 0.2s ease;letter-spacing:0.1rem;animation:fadeInDown 0.8s ease-out;border-bottom:2px solid transparent;}
.navbar-link:nth-child(1){animation-delay:0.1s;opacity:0;animation-fill-mode:forwards;}
.navbar-link:nth-child(2){animation-delay:0.2s;opacity:0;animation-fill-mode:forwards;}
.navbar-link:nth-child(3){animation-delay:0.3s;opacity:0;animation-fill-mode:forwards;}
.navbar-link:hover{background:transparent;color:#a7a7a7;}
.navbar-link.active{font-weight:600;font-size:1.05rem;border-bottom:2px solid var(--soft);}
.navbar-controls{display:flex;gap:1rem;align-items:center;margin-right:-50px;}
.app{padding:2rem;padding-top:80px;height:100vh;display:flex;flex-direction:column;overflow:hidden;}
#graph-modal-btn{background:transparent;border:none;padding:0;transition:transform 0.2s ease;}
#graph-modal-btn:hover{transform:scale(1.1);}
.refresh-icon{display:inline-block;width:18px;height:18px;background-image:var(--refresh-icon);background-size:contain;background-repeat:no-repeat;background-position:center;cursor:pointer;transition:transform 0.2s ease;}
.refresh-icon:hover{transform:scale(1.1);}
.undo-btn{background:transparent;border:none;color:var(--soft);padding:6px 10px;border-radius:100px;cursor:pointer;display:flex;align-items:center;gap:6px;font-size:14px;transition:all 0.2s ease;}
.undo-btn:hover:not(:disabled){background:var(--card-bg-start);border-color:var(--soft);transform:scale(1.05);}
.undo-btn:disabled{opacity:0.3;cursor:not-allowed;}
.checkbox{opacity:0;position:absolute;pointer-events:none;}
.checkbox-label{background-color:#1f1f1f;width:40px;height:20px;border-radius:50px;position:relative;padding:3px;cursor:pointer;display:flex;justify-content:space-between;align-items:center;font-size:10px;z-index:1;}
.fa-moon{color:#f1c40f;}
.fa-sun{color:#f39c12;}
.checkbox-label .ball{background-color:#fff;width:16px;height:16px;position:absolute;left:2px;top:2px;border-radius:50%;transition:transform 0.2s linear;}
.checkbox:checked + .checkbox-label .ball{transform:translateX(20px);}
.grid{display:grid;grid-template-columns:1fr 1fr 1fr;gap:14px;flex:1;overflow:hidden;min-height:0;}
.card{padding:1.5rem;border-radius:12px;background:var(--card-bg-start); border:0.5px solid var(--border-line); box-shadow:none;overflow-y:auto;display:flex;flex-direction:column;transition:all 0.3s ease;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);}
.card::-webkit-scrollbar{width:2px;}
.card::-webkit-scrollbar-track{background:transparent;}
.card::-webkit-scrollbar-thumb{background:var(--card-border);border-radius:1px;}
.card::-webkit-scrollbar-thumb:hover{background:var(--input-border);}
#section1{display:flex;flex-direction:column;}
#section2{display:flex;flex-direction:column;}
#section3{display:flex;flex-direction:column;}
h2{margin:0 0 20px 0;color:var(--neon);flex-shrink:0;text-align:center;font-weight:700;letter-spacing:0.5px;}
h3{margin:22px 0 6px 0;color:var(--neon);flex-shrink:0;text-align:center;font-weight:700;letter-spacing:0.5px;}
form{flex-shrink:0;display:flex;flex-direction:column;align-items:center;margin-bottom:17px;}
.form-row{display:flex;gap:8px;width:100%;}
.form-row input:first-child{flex:0 0 100px;}
.form-row input:last-child{flex:1;}
form input, form select{width:100%;padding:8px;margin:6px 0;border-radius:8px;border:1px solid var(--input-border);background:transparent;color:var(--soft);transition:border 0.3s ease;}
form input:focus, form select:focus{outline:none;border-color:var(--neon);}
button{padding:0.5rem 1.2rem;border-radius:50px;border:none;background:var(--btn-bg);color:var(--btn-text);cursor:pointer;font-weight:500;margin-top:6px;transition:all 0.3s ease;font-size:0.9rem;}
button:hover{transform:translateY(-2px);background:var(--btn-hover-bg);box-shadow:0 5px 15px rgba(255,255,255,0.3);}
#wfg{height:250px;background:var(--wfg-bg);border-radius:8px;overflow:hidden;padding:8px;flex-shrink:0;}
#mat-content{font-size:14px;white-space:pre-wrap;flex-shrink:0;margin-bottom:8px;}
#cycles{margin-top:8px;font-size:13px;line-height:1.5;}
#action-log{margin-top:12px;font-size:12px;line-height:1.6;color:var(--soft);}
.modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.7);backdrop-filter:blur(5px);z-index:2000;align-items:center;justify-content:center;}
.modal.active{display:flex;}
.modal-content{background:var(--card-bg-start);border:1px solid var(--card-border);border-radius:16px;width:75%;max-width:1000px;height:85vh;box-shadow:0 20px 60px var(--card-shadow);overflow:hidden;animation:modalSlideIn 0.3s ease;display:flex;flex-direction:column;}
@keyframes modalSlideIn{from{transform:translateY(-50px);opacity:0;}to{transform:translateY(0);opacity:1;}}
.modal-header{display:flex;align-items:center;justify-content:center;padding:5px 4px;border-bottom:1px solid var(--card-border);flex-shrink:0;position:relative;height:60px;}
.modal-header h2{margin:0;color:var(--neon);font-size:22px;}
.close-btn{background:transparent;border:none;font-size:32px;color:var(--soft);cursor:pointer;padding:0;width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all 0.3s ease;position:absolute;right:14px;top:5px;}
.close-btn:hover{background:rgba(255,107,107,0.2);color:#ff6b6b;transform:rotate(90deg);}
.modal-body{padding:32px;overflow:hidden;flex:1;display:flex;flex-direction:column;}
#wfg-modal{flex:1;background:transparent;border-radius:8px;overflow:hidden;}
